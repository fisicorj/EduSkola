{% extends 'base.html' %}
{% block title %}Disciplinas{% endblock %}
{% block content %}

<h2>Disciplinas</h2>

<a class="btn btn-primary mb-3" href="{{ url_for('disciplinas.nova') }}">Nova Disciplina</a>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Sigla</th>
            <th>Semestre</th>
            <th>Associações</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for disciplina in disciplinas %}
        <tr>
            <td>{{ disciplina.nome }}</td>
            <td>{{ disciplina.sigla }}</td>
            <td>{{ disciplina.semestre_letivo.ano }}/{{ disciplina.semestre_letivo.semestre }}</td>
            <td>
                {% for assoc in disciplina.associacoes %}
                    <div>{{ assoc.professor.nome }} - {{ assoc.turma.nome }}</div>
                {% endfor %}
            </td>
            <td>
                <a class="btn btn-warning btn-sm" href="{{ url_for('disciplinas.editar', id=disciplina.id) }}">Editar</a>
                <a class="btn btn-danger btn-sm" href="{{ url_for('disciplinas.excluir', id=disciplina.id) }}">Excluir</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
