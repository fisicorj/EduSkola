{% extends 'base.html' %}

{% block content %}
<h2>Disciplinas do Curso: {{ curso.nome }}</h2>
<form method="post">
    <div class="form-group">
        <label>Selecione as Disciplinas:</label>
        {% set disciplinas_selecionadas = curso.disciplinas_associadas | map(attribute='disciplina') | list %}
        {% for d in disciplinas_todas %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="disciplinas" value="{{ d.id }}"
                    {% if d in disciplinas_selecionadas %}checked{% endif %}>
                <label class="form-check-label">{{ d.nome }} ({{ d.sigla }})</label>
            </div>
        {% endfor %}
    </div>
    <button type="submit" class="btn btn-primary mt-3">Salvar</button>
</form>
{% endblock %}
